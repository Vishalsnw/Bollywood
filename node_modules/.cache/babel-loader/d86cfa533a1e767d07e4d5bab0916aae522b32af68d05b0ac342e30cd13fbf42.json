{"ast":null,"code":"// src/features/game/gameSlice.js\n\nimport { createSlice } from '@reduxjs/toolkit';\nimport { initializeProducers } from '../producers/producerUtils';\nimport { playYear } from './gameLogic';\nimport { loadState, saveState } from '../storage/localStorage';\nconst initialState = loadState() || {\n  year: 2025,\n  producers: initializeProducers(),\n  movies: [],\n  oscars: [],\n  news: [],\n  gameStats: {},\n  running: false\n};\nconst gameSlice = createSlice({\n  name: 'game',\n  initialState,\n  reducers: {\n    startGame(state) {\n      state.running = true;\n    },\n    playNextYear(state) {\n      const {\n        movies,\n        oscars,\n        news,\n        producers\n      } = playYear(state);\n      state.movies.push(...movies);\n      state.oscars.push(oscars);\n      state.news.push(...news);\n      state.producers = producers;\n      state.year += 1;\n      saveState(state); // Persist after every year\n    },\n    resetGame(state) {\n      Object.assign(state, {\n        ...initialState,\n        producers: initializeProducers(),\n        movies: [],\n        oscars: [],\n        news: [],\n        gameStats: {},\n        year: 2025,\n        running: false\n      });\n      saveState(state);\n    },\n    loadGame(state, action) {\n      // Load state from saved game\n      Object.assign(state, action.payload);\n    }\n  }\n});\nexport const {\n  startGame,\n  playNextYear,\n  resetGame,\n  loadGame\n} = gameSlice.actions;\nexport default gameSlice.reducer;\n\n// end of code","map":{"version":3,"names":["createSlice","initializeProducers","playYear","loadState","saveState","initialState","year","producers","movies","oscars","news","gameStats","running","gameSlice","name","reducers","startGame","state","playNextYear","push","resetGame","Object","assign","loadGame","action","payload","actions","reducer"],"sources":["/data/data/com.termux/files/home/Bollywood/src/features/game/gameSlice.js"],"sourcesContent":["// src/features/game/gameSlice.js\n\nimport { createSlice } from '@reduxjs/toolkit';\nimport { initializeProducers } from '../producers/producerUtils';\nimport { playYear } from './gameLogic';\nimport { loadState, saveState } from '../storage/localStorage';\n\nconst initialState = loadState() || {\n  year: 2025,\n  producers: initializeProducers(),\n  movies: [],\n  oscars: [],\n  news: [],\n  gameStats: {},\n  running: false,\n};\n\nconst gameSlice = createSlice({\n  name: 'game',\n  initialState,\n  reducers: {\n    startGame(state) {\n      state.running = true;\n    },\n    playNextYear(state) {\n      const { movies, oscars, news, producers } = playYear(state);\n      state.movies.push(...movies);\n      state.oscars.push(oscars);\n      state.news.push(...news);\n      state.producers = producers;\n      state.year += 1;\n      saveState(state); // Persist after every year\n    },\n    resetGame(state) {\n      Object.assign(state, {\n        ...initialState,\n        producers: initializeProducers(),\n        movies: [],\n        oscars: [],\n        news: [],\n        gameStats: {},\n        year: 2025,\n        running: false,\n      });\n      saveState(state);\n    },\n    loadGame(state, action) {\n      // Load state from saved game\n      Object.assign(state, action.payload);\n    },\n  },\n});\n\nexport const { startGame, playNextYear, resetGame, loadGame } = gameSlice.actions;\nexport default gameSlice.reducer;\n\n// end of code\n"],"mappings":"AAAA;;AAEA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,mBAAmB,QAAQ,4BAA4B;AAChE,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,SAAS,EAAEC,SAAS,QAAQ,yBAAyB;AAE9D,MAAMC,YAAY,GAAGF,SAAS,CAAC,CAAC,IAAI;EAClCG,IAAI,EAAE,IAAI;EACVC,SAAS,EAAEN,mBAAmB,CAAC,CAAC;EAChCO,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE,EAAE;EACVC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAE,CAAC,CAAC;EACbC,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,SAAS,GAAGb,WAAW,CAAC;EAC5Bc,IAAI,EAAE,MAAM;EACZT,YAAY;EACZU,QAAQ,EAAE;IACRC,SAASA,CAACC,KAAK,EAAE;MACfA,KAAK,CAACL,OAAO,GAAG,IAAI;IACtB,CAAC;IACDM,YAAYA,CAACD,KAAK,EAAE;MAClB,MAAM;QAAET,MAAM;QAAEC,MAAM;QAAEC,IAAI;QAAEH;MAAU,CAAC,GAAGL,QAAQ,CAACe,KAAK,CAAC;MAC3DA,KAAK,CAACT,MAAM,CAACW,IAAI,CAAC,GAAGX,MAAM,CAAC;MAC5BS,KAAK,CAACR,MAAM,CAACU,IAAI,CAACV,MAAM,CAAC;MACzBQ,KAAK,CAACP,IAAI,CAACS,IAAI,CAAC,GAAGT,IAAI,CAAC;MACxBO,KAAK,CAACV,SAAS,GAAGA,SAAS;MAC3BU,KAAK,CAACX,IAAI,IAAI,CAAC;MACfF,SAAS,CAACa,KAAK,CAAC,CAAC,CAAC;IACpB,CAAC;IACDG,SAASA,CAACH,KAAK,EAAE;MACfI,MAAM,CAACC,MAAM,CAACL,KAAK,EAAE;QACnB,GAAGZ,YAAY;QACfE,SAAS,EAAEN,mBAAmB,CAAC,CAAC;QAChCO,MAAM,EAAE,EAAE;QACVC,MAAM,EAAE,EAAE;QACVC,IAAI,EAAE,EAAE;QACRC,SAAS,EAAE,CAAC,CAAC;QACbL,IAAI,EAAE,IAAI;QACVM,OAAO,EAAE;MACX,CAAC,CAAC;MACFR,SAAS,CAACa,KAAK,CAAC;IAClB,CAAC;IACDM,QAAQA,CAACN,KAAK,EAAEO,MAAM,EAAE;MACtB;MACAH,MAAM,CAACC,MAAM,CAACL,KAAK,EAAEO,MAAM,CAACC,OAAO,CAAC;IACtC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAET,SAAS;EAAEE,YAAY;EAAEE,SAAS;EAAEG;AAAS,CAAC,GAAGV,SAAS,CAACa,OAAO;AACjF,eAAeb,SAAS,CAACc,OAAO;;AAEhC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}